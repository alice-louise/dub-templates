const CONDITIONAL_PREFIXES=["conditional-display","conditional-trigger","conditional-group","conditional-disable-group","conditional-hide-trigger","conditional-hide-display",],COLOR_PALETTE=["#FF6633","#7FE5F0","#00B8AE","#9A8899","#00B3E6","#E6B333","#3366E6","#999966","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#FF1A66","#E6331A","#33FFCC","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF",],EDIT_CONTEXT_SELECTORS=["view-form-public-component","legacy-form-preview-component","#edit-form","#view-form",],CLASS_KEEPERS=new Set(["row","item","packageNotSelected","packageSelected","selected","ng-scope","column",]);function safeAddClass(e,t){if(!t)return;let l=t.trim();if(""!==l){if(/\s/.test(l)){console.warn("Blocked invalid class:",JSON.stringify(t));return}e.classList.add(l)}}function hasEditContext(){return EDIT_CONTEXT_SELECTORS.some(e=>null!==document.querySelector(e))}function hasFormViewer(){return null!==document.querySelector(".form-viewer")}function normalizeForCSS(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,"")}function displayValueMatchesTrigger(e,t){let l=Array.from(e.classList).filter(e=>e.startsWith("cl-value-")).map(e=>e.replace("cl-value-",""));if(0===l.length)return!0;let i=t.closest(".container-form-element__column")||t.closest(".column");if(!i)return!1;let o=i.querySelector("input[type='radio']:checked");if(o){let n=o.closest(".radio-option")?.querySelector("label");if(!n)return!1;let s=normalizeForCSS(n.textContent||"");return l.includes(s)}let r=i.querySelector("select");if(r&&r.selectedIndex>0&&!r.options[r.selectedIndex].disabled){let a=r.options[r.selectedIndex],c=normalizeForCSS(a.textContent||"");return l.includes(c)}return!1}function assignConditionalLogic(e){if(hasEditContext()){let t=`${e}-identify`,l=`${e}-id`,i=document.getElementsByClassName(t);for(let o=0;o<i.length;o+=1){let n=i[o],s=n.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e).map(e=>e.trim()).filter(e=>""!==e);for(let r=0;r<s.length;r+=1){let a=s[r];if(a.includes("cl-")||a.includes("clhide-")){n.parentNode.style.minHeight="0";let c=n.closest(".column");safeAddClass(c,a),c.classList.add(l),c.classList.add("conditional-id")}}}}if(hasFormViewer()){let d=`${e}-identify`,g=`${e}-id`,f=document.getElementsByClassName(d);for(let m=0;m<f.length;m+=1){let u=f[m],p=u.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e).map(e=>e.trim()).filter(e=>""!==e);for(let h=0;h<p.length;h+=1){let C=p[h];if(C.includes("cl-")||C.includes("clhide-")){u.parentNode.style.minHeight="0";let y=u.closest(".container-form-element__column");safeAddClass(y,C),y.classList.add(g),y.classList.add("conditional-id")}}}}}function assignConditionalClasses(){CONDITIONAL_PREFIXES.forEach(e=>assignConditionalLogic(e))}function removeConditionalLogicDisplay(){if(null===document.querySelector("#edit-form"))return;let e=document.querySelectorAll(".conditional-display-id");e.forEach(e=>{e.classList.remove("conditional-display-id");let t=e.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);t.forEach(t=>{let l=CLASS_KEEPERS.has(t)||t.includes("col-")||t.includes(" ");l||e.classList.remove(t)})})}function removeConditionalLogicTrigger(){if(null===document.querySelector("#edit-form"))return;let e=document.querySelectorAll(".conditional-trigger-id");e.forEach(e=>{e.classList.remove("conditional-trigger-id");let t=e.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);t.forEach(t=>{let l=CLASS_KEEPERS.has(t)||t.includes("col-")||t.includes(" ");l||e.classList.remove(t)})})}function removeConditionalGroup(){if(null===document.querySelector("#edit-form"))return;let e=document.querySelectorAll(".conditional-group-id");e.forEach(e=>{e.classList.remove("conditional-group-id");let t=e.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);t.forEach(t=>{let l=CLASS_KEEPERS.has(t)||t.includes("col-")||t.includes(" ");l||e.classList.remove(t)})})}function assignConditionalLogicTriggerDisable(){if(hasEditContext()){let e=document.getElementsByClassName("disable-group");for(let t=0;t<e.length;t+=1){let l=e[t],i=l.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let o=0;o<i.length;o+=1){let n=i[o];if(n.includes("group-cl-")||n.includes("cl-")){l.parentNode.style.minHeight="0";let s=l.closest(".column");safeAddClass(s,n),s.classList.add("conditional-group-disable-id")}}}}if(hasFormViewer()){let r=document.getElementsByClassName("disable-group");for(let a=0;a<r.length;a+=1){let c=r[a],d=c.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let g=0;g<d.length;g+=1){let f=d[g];if(f.includes("group-cl-")||f.includes("cl-")){c.parentNode.style.minHeight="0";let m=c.closest(".container-form-element__column");safeAddClass(m,f),m.classList.add("conditional-group-disable-id")}}}}}function conditionalLogic(){let e=document.getElementsByClassName("conditional-display-id");for(let t=0;t<e.length;t+=1){let l=!1,i=e[t],o=i.parentNode,n=i.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let s=0;s<n.length;s+=1){let r=n[s];if(r.includes("cl-")){let a=document.getElementsByClassName("conditional-trigger-id");for(let c=0;c<a.length;c+=1){let d=a[c];if(d.classList.contains(r)){let g=isTriggerSelected(d)&&displayValueMatchesTrigger(i,d);(l=l||g)?(i.classList.add("show-content"),o.classList.remove("remove-padding")):(i.classList.remove("show-content"),o.classList.add("remove-padding"))}}}}}}function conditionalLogicRemoveItem(){let e=document.getElementsByClassName("conditional-hide-display-id");for(let t=0;t<e.length;t+=1){let l=!1,i=e[t],o=i.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let n=0;n<o.length;n+=1){let s=o[n];if(s.includes("clhide-")){let r=document.getElementsByClassName("conditional-hide-trigger-id");for(let a=0;a<r.length;a+=1){let c=r[a];if(c.classList.contains(s)){let d=isTriggerSelected(c);(l=l||d)?i.classList.add("hide-content"):i.classList.remove("hide-content")}}}}}}function conditionalLogicRemoveWorkflows(){let e=document.getElementsByClassName("conditional-display-id");for(let t=0;t<e.length;t+=1){let l=e[t],i=l.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let o=0;o<i.length;o+=1){let n=i[o];if(n.includes("cl-")){let s=document.getElementsByClassName("conditional-trigger-id");for(let r=0;r<s.length;r+=1){let a=s[r];if(a.classList.contains(n)){let c=!isTriggerSelected(a);if(c){let d=l.querySelectorAll("select");for(let g=0;g<d.length;g+=1)d[g].value="",d[g].selectedIndex=0}}}}}}}function conditionalLogicDisableFunction(){if(hasEditContext()){let e=document.getElementsByClassName("conditional-group-disable-id");for(let t=0;t<e.length;t+=1){let l=e[t],i=l.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let o=0;o<i.length;o+=1){let n=i[o];if(n.includes("group-cl-")){let s=`.${n}`,r=document.querySelectorAll(s),a=!1;r.forEach(e=>{a=a||isTriggerSelected(e)}),r.forEach(e=>{if(a){let t=e.getElementsByClassName("packageNotSelected");for(let l=0;l<t.length;l+=1)t[l].classList.add("disable-package");let i=e.querySelectorAll(".clip-check .ng-empty");for(let o=0;o<i.length;o+=1)i[o].parentElement.classList.add("disable-package")}else{let n=e.getElementsByClassName("packageNotSelected");for(let s=0;s<n.length;s+=1)n[s].classList.remove("disable-package");let r=e.querySelectorAll(".clip-check .ng-empty");for(let c=0;c<r.length;c+=1)r[c].parentElement.classList.remove("disable-package")}})}}}}if(hasFormViewer()){let c=document.getElementsByClassName("conditional-group-disable-id");for(let d=0;d<c.length;d+=1){let g=c[d],f=g.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let m=0;m<f.length;m+=1){let u=f[m];if(u.includes("group-cl-")){let p=`.${u}`,h=document.querySelectorAll(p),C=!1;h.forEach(e=>{C=C||isTriggerSelected(e)}),h.forEach(e=>{if(C){let t=e.getElementsByClassName("packageNotSelected");for(let l=0;l<t.length;l+=1)t[l].classList.add("disable-package");let i=e.querySelectorAll(".checkboxNotChecked");for(let o=0;o<i.length;o+=1)i[o].classList.add("disable-package");let n=e.querySelectorAll(".checkboxChecked");for(let s=0;s<n.length;s+=1)n[s].classList.remove("disable-package")}else{let r=e.getElementsByClassName("packageNotSelected");for(let a=0;a<r.length;a+=1)r[a].classList.remove("disable-package");let c=e.querySelectorAll(".checkboxNotChecked");for(let d=0;d<c.length;d+=1)c[d].classList.remove("disable-package")}})}}}}}function addCheckboxID(){if(!hasFormViewer())return;let e=document.querySelectorAll("input[type='checkbox']");e.forEach(e=>{let t=e.closest(".checkbox-option");t.classList.remove("checkboxChecked"),t.classList.add("checkboxNotChecked")});let t=document.querySelectorAll("input[type='checkbox']:checked");t.forEach(e=>{let t=e.closest(".checkbox-option");t.classList.add("checkboxChecked"),t.classList.remove("checkboxNotChecked")})}function addConditionalGuides(){let e=document.getElementById("toggle-conditional-guidelines");if(e){if(!0===e.checked){let t="",l=document.getElementsByClassName("conditional-id");for(let i=0;i<l.length;i+=1){let o=l[i],n=o.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let s=0;s<n.length;s+=1){let r=n[s];if(r.includes("cl-")&&!r.includes("group")){t=`${t} ${r}`;let a=document.getElementsByClassName("conditional-trigger-id");for(let c=0;c<a.length;c+=1){let d="",g=a[c],f=g.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let m=0;m<f.length;m+=1){let u=f[m];if(u.includes("cl-")&&(d=`${d} ${u}`,g.classList.contains(r))){if(null===g.querySelector(".conditional-guides")&&""!==d){let p=document.createElement("div");p.classList.add("conditional-guides"),p.style.backgroundColor=COLOR_PALETTE[i],p.style.color="white",p.style.padding="10px 20px",p.style.display="block",p.style.textTransform="uppercase",p.style.letterSpacing="1px",p.style.fontSize="10px",g.style.border="1px solid",g.style.borderColor=COLOR_PALETTE[i],p.innerHTML=`Conditional Trigger:${d}`,g.insertBefore(p,g.firstChild)}if(""!==d&&null!==g.querySelector(".conditional-guides")){let h=g.querySelector("div.conditional-guides");h.innerHTML=`Conditional Trigger:${d}`,h.style.backgroundColor=COLOR_PALETTE[i],g.style.borderColor=COLOR_PALETTE[i]}}}}let C=document.getElementsByClassName("conditional-display-id");for(let y=0;y<C.length;y+=1){let L="",E=C[y],$=E.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let S=0;S<$.length;S+=1){let _=$[S];if(_.includes("cl-")&&(L=`${L} ${_}`,E.classList.contains(r))){if(null===E.querySelector(".conditional-guides")&&""!==L){let b=document.createElement("div");b.classList.add("conditional-guides"),b.style.backgroundColor=COLOR_PALETTE[i],b.style.color="white",b.style.padding="10px 20px",b.style.display="block",b.style.textTransform="uppercase",b.style.letterSpacing="1px",b.style.fontSize="10px",E.style.border="1px solid",E.style.borderColor=COLOR_PALETTE[i],b.innerHTML=`Conditional Display:${L}`,E.insertBefore(b,E.firstChild)}if(""!==L&&null!==E.querySelector(".conditional-guides")){let A=E.querySelector("div.conditional-guides");A.innerHTML=`Conditional Display:${L}`,A.style.backgroundColor=COLOR_PALETTE[i],E.style.borderColor=COLOR_PALETTE[i]}}}}}}}}if(!1===e.checked){let v=document.querySelectorAll("div.conditional-guides");v.forEach(e=>{e.parentNode.style.border="0px solid",e.parentNode.removeChild(e)})}}}function removeConditionalGuidelines(){let e=document.querySelectorAll("div.conditional-guides");e.forEach(e=>{let t=e.parentNode,l=t.classList.contains("conditional-id");if(!l){let i=t.querySelectorAll("div.conditional-guides");i.forEach(e=>{e.parentNode.style.border="0px solid",e.parentNode.removeChild(e)})}})}function conditionalRequired(){let e=document.querySelectorAll("input");e.forEach(e=>{e.hasAttribute("required")&&e.classList.add("required-catch")});let t=document.getElementsByClassName("conditional-display-id");for(let l=0;l<t.length;l+=1){let i=!1,o=t[l],n=o.classList.toString().split(" ").map(e=>e.trim()).filter(e=>""!==e);for(let s=0;s<n.length;s+=1){let r=n[s];if(r.includes("cl-")){let a=document.getElementsByClassName("conditional-trigger-id");for(let c=0;c<a.length;c+=1){let d=a[c];if(d.classList.contains(r)){let g=isTriggerSelected(d);if(i=i||g){let f=o.querySelectorAll(".required-catch");f.forEach(e=>{e.removeAttribute("required"),e.setAttribute("ng-required","false")})}else{let m=o.querySelectorAll(".required-catch");m.forEach(e=>{e.setAttribute("required","required")})}}}}}}}function identifyMainCodes(){if(hasEditContext()&&document.querySelectorAll("div.hide-on-front")){let e=document.querySelectorAll("div.hide-on-front");e.forEach(e=>{let t=e.closest(".row");t.classList.add("main-codes-id"),null!==document.querySelector("#edit-form")&&t.setAttribute("style","margin-top:0px!important;margin-bottom:0px!important; border:0px")})}if(hasFormViewer()){if(document.querySelectorAll(".hide-on-front")){let t=document.querySelectorAll("div.hide-on-front");t.forEach(e=>{let t=e.closest(".form-element__content");t.classList.add("hide-on-front-id"),t.setAttribute("style","margin-top:0px!important;margin-bottom:0px!important;padding:0px!important;height:0px;overflow:hidden;")})}if(document.querySelectorAll(".hide-on-front")){let l=document.querySelectorAll("b.hide-on-front");l.forEach(e=>{let t=e.closest(".form-element__content");t.classList.add("hide-on-front-id"),t.setAttribute("style","margin-top:0px!important;margin-bottom:0px!important;padding:0px!important;height:0px;overflow:hidden;")})}}}function conditionalCheck(){document.addEventListener("click",()=>{conditionalLogicDisableFunction(),conditionalLogic(),conditionalLogicRemoveItem(),addCheckboxID()},!1)}function conditionalCheckSelects(){document.addEventListener("change",e=>{e.target&&"SELECT"===e.target.tagName&&(conditionalLogicDisableFunction(),conditionalLogic(),conditionalLogicRemoveItem(),addCheckboxID())},!1)}function conditionalCheckMouse(){let e=document.getElementsByClassName("conditional-trigger-id");for(let t=0;t<e.length;t+=1)e[t].addEventListener("mousemove",()=>{conditionalLogicDisableFunction(),conditionalLogic(),conditionalLogicRemoveItem(),addCheckboxID()},!1)}function whileEdit(){null!==document.querySelector("#edit-form")&&setInterval(()=>{addConditionalGuides(),removeConditionalGuidelines(),removeConditionalLogicDisplay(),removeConditionalLogicTrigger(),removeConditionalGroup(),assignConditionalClasses(),assignConditionalLogicTriggerDisable(),identifyMainCodes()},250)}function startJavascript(){assignConditionalClasses(),assignConditionalLogicTriggerDisable(),conditionalLogicDisableFunction(),conditionalLogicRemoveItem(),whileEdit(),identifyMainCodes(),conditionalLogic(),conditionalCheck(),conditionalCheckMouse(),conditionalCheckSelects()}startJavascript();
